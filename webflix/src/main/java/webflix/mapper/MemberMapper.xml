<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC    
   "-//mybatis.org//DTD Mapper 3.0//EN" 
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="webflix.mapper.MemberMapper">
<select id="memberAutoNum" resultType="string">
select concat('mem' , coalesce(max(substr(mem_num,4)::Integer),100000) + 1) from members

</select>
<insert id="memberInsert" parameterType="member">
insert into members(mem_num,mem_id,mem_pw,mem_name
,mem_addr,mem_addr_detail,mem_post,mem_phone
,mem_regist,mem_jumin,mem_email,mem_email_conf,mem_point,mem_event_win)
values(#{memNum}, #{memId}, #{memPw}, #{memName}, #{memAddr}
, #{memAddrDetail}, #{memPost}, #{memPhone}, now()
, #{memJumin}, #{memEmail}, 'T', 0, 'F')

</insert>

</mapper>